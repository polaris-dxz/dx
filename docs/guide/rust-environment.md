---
title: Rust ç¯å¢ƒé…ç½®
description: Rust å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å—
---

# Rust ç¯å¢ƒé…ç½®

æœ¬ç« èŠ‚å°†æŒ‡å¯¼ä½ é…ç½® Rust å¼€å‘ç¯å¢ƒï¼ŒåŒ…æ‹¬ Rust å®‰è£…ã€åŒ…ç®¡ç†ã€å¼€å‘å·¥å…·é…ç½®ç­‰ã€‚

## ğŸ“‹ é…ç½®æ¸…å•

- Rust å®‰è£…
- é•œåƒé…ç½®
- å¼€å‘å·¥å…·å®‰è£…
- é¡¹ç›®é…ç½®
- éªŒè¯å®‰è£…

## 1. å®‰è£… Rust

### ä½¿ç”¨ rustup å®‰è£…

#### macOS/Linux
```bash
# å®‰è£… Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

```bash
# é‡æ–°åŠ è½½é…ç½®
source ~/.cargo/env
```

#### Windows
```powershell
# å®‰è£… Rust
# è®¿é—®: https://rustup.rs/
# ä¸‹è½½å¹¶è¿è¡Œ rustup-init.exe
```

### éªŒè¯å®‰è£…

#### macOS/Linux
```bash
# æ£€æŸ¥ Rust ç‰ˆæœ¬
rustc --version
```

```bash
# æ£€æŸ¥ Cargo ç‰ˆæœ¬
cargo --version
```

#### Windows
```powershell
# æ£€æŸ¥ Rust ç‰ˆæœ¬
rustc --version
```

```powershell
# æ£€æŸ¥ Cargo ç‰ˆæœ¬
cargo --version
```

## 2. é…ç½® Rust é•œåƒ

### é…ç½® Cargo é•œåƒ

#### macOS/Linux
```bash
# åˆ›å»º Cargo é…ç½®ç›®å½•
mkdir -p ~/.cargo
```

```bash
# é…ç½®é•œåƒ
echo '[source.crates-io]
registry = "https://github.com/rust-lang/crates.io-index"
replace-with = "ustc"

[source.ustc]
registry = "git://mirrors.ustc.edu.cn/crates.io-index"' >> ~/.cargo/config
```

#### Windows
```powershell
# åˆ›å»º Cargo é…ç½®ç›®å½•
New-Item -Path ~/.cargo -ItemType Directory -Force
```

```powershell
# åˆ›å»ºé…ç½®æ–‡ä»¶
New-Item -Path ~/.cargo/config -ItemType File -Force
```

```powershell
# é…ç½®é•œåƒ
@"
[source.crates-io]
registry = "https://github.com/rust-lang/crates.io-index"
replace-with = "ustc"

[source.ustc]
registry = "git://mirrors.ustc.edu.cn/crates.io-index"
"@ | Out-File -FilePath ~/.cargo/config -Encoding UTF8
```

## 3. å®‰è£…å¼€å‘å·¥å…·

### å®‰è£… Rust ç»„ä»¶

#### macOS/Linux
```bash
# å®‰è£… rust-analyzer (è¯­è¨€æœåŠ¡å™¨)
rustup component add rust-analyzer
```

```bash
# å®‰è£… clippy (ä»£ç æ£€æŸ¥å·¥å…·)
rustup component add clippy
```

```bash
# å®‰è£… rustfmt (ä»£ç æ ¼å¼åŒ–å·¥å…·)
rustup component add rustfmt
```

```bash
# å®‰è£… cargo-audit (å®‰å…¨å®¡è®¡å·¥å…·)
cargo install cargo-audit
```

#### Windows
```powershell
# å®‰è£… rust-analyzer (è¯­è¨€æœåŠ¡å™¨)
rustup component add rust-analyzer
```

```powershell
# å®‰è£… clippy (ä»£ç æ£€æŸ¥å·¥å…·)
rustup component add clippy
```

```powershell
# å®‰è£… rustfmt (ä»£ç æ ¼å¼åŒ–å·¥å…·)
rustup component add rustfmt
```

```powershell
# å®‰è£… cargo-audit (å®‰å…¨å®¡è®¡å·¥å…·)
cargo install cargo-audit
```

### å®‰è£…å¸¸ç”¨å·¥å…·

#### macOS/Linux
```bash
# å®‰è£… cargo-watch (æ–‡ä»¶ç›‘æ§)
cargo install cargo-watch
```

```bash
# å®‰è£… cargo-expand (å®å±•å¼€)
cargo install cargo-expand
```

```bash
# å®‰è£… cargo-tree (ä¾èµ–æ ‘)
cargo install cargo-tree
```

#### Windows
```powershell
# å®‰è£… cargo-watch (æ–‡ä»¶ç›‘æ§)
cargo install cargo-watch
```

```powershell
# å®‰è£… cargo-expand (å®å±•å¼€)
cargo install cargo-expand
```

```powershell
# å®‰è£… cargo-tree (ä¾èµ–æ ‘)
cargo install cargo-tree
```

## 4. é¡¹ç›®é…ç½®

### åˆ›å»ºæ–°é¡¹ç›®

#### macOS/Linux
```bash
# åˆ›å»ºäºŒè¿›åˆ¶é¡¹ç›®
cargo new myproject
cd myproject
```

```bash
# åˆ›å»ºåº“é¡¹ç›®
cargo new mylib --lib
cd mylib
```

#### Windows
```powershell
# åˆ›å»ºäºŒè¿›åˆ¶é¡¹ç›®
cargo new myproject
cd myproject
```

```powershell
# åˆ›å»ºåº“é¡¹ç›®
cargo new mylib --lib
cd mylib
```

### é¡¹ç›®æ“ä½œ

#### macOS/Linux
```bash
# æ„å»ºé¡¹ç›®
cargo build
```

```bash
# è¿è¡Œé¡¹ç›®
cargo run
```

```bash
# è¿è¡Œæµ‹è¯•
cargo test
```

```bash
# æ£€æŸ¥ä»£ç 
cargo check
```

```bash
# æ ¼å¼åŒ–ä»£ç 
cargo fmt
```

```bash
# ä»£ç æ£€æŸ¥
cargo clippy
```

#### Windows
```powershell
# æ„å»ºé¡¹ç›®
cargo build
```

```powershell
# è¿è¡Œé¡¹ç›®
cargo run
```

```powershell
# è¿è¡Œæµ‹è¯•
cargo test
```

```powershell
# æ£€æŸ¥ä»£ç 
cargo check
```

```powershell
# æ ¼å¼åŒ–ä»£ç 
cargo fmt
```

```powershell
# ä»£ç æ£€æŸ¥
cargo clippy
```

## 5. é…ç½®æ–‡ä»¶

### åˆ›å»º .gitignore

#### macOS/Linux
```bash
# åˆ›å»º .gitignore æ–‡ä»¶
touch .gitignore
```

```bash
# æ·»åŠ  Rust ç›¸å…³å¿½ç•¥è§„åˆ™
echo "# Generated by Cargo
/target/

# Remove Cargo.lock from gitignore if creating an executable, leave it for libraries
# More information here https://doc.rust-lang.org/cargo/guide/cargo-toml-vs-cargo-lock.html
Cargo.lock

# These are backup files generated by rustfmt
**/*.rs.bk

# MSVC Windows builds of rustc generate these, which store debugging information
*.pdb

# IDE files
.vscode/
.idea/
*.swp
*.swo" > .gitignore
```

#### Windows
```powershell
# åˆ›å»º .gitignore æ–‡ä»¶
New-Item -Path .gitignore -ItemType File
```

```powershell
# æ·»åŠ  Rust ç›¸å…³å¿½ç•¥è§„åˆ™
@"
# Generated by Cargo
/target/

# Remove Cargo.lock from gitignore if creating an executable, leave it for libraries
# More information here https://doc.rust-lang.org/cargo/guide/cargo-toml-vs-cargo-lock.html
Cargo.lock

# These are backup files generated by rustfmt
**/*.rs.bk

# MSVC Windows builds of rustc generate these, which store debugging information
*.pdb

# IDE files
.vscode/
.idea/
*.swp
*.swo
"@ | Out-File -FilePath .gitignore -Encoding UTF8
```

## 6. è°ƒè¯•é…ç½®

### VS Code è°ƒè¯•é…ç½®

åˆ›å»º `.vscode/launch.json` æ–‡ä»¶ï¼š

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "lldb",
      "request": "launch",
      "name": "Debug executable",
      "cargo": {
        "args": ["build", "--bin=myproject"],
        "filter": {
          "name": "myproject",
          "kind": "bin"
        }
      },
      "args": [],
      "cwd": "${workspaceFolder}"
    }
  ]
}
```

## 7. æ€§èƒ½ä¼˜åŒ–

### é…ç½® Cargo ç¼“å­˜

#### macOS/Linux
```bash
# æŸ¥çœ‹ Cargo ç¼“å­˜ä½ç½®
cargo --version
```

```bash
# æ¸…ç† Cargo ç¼“å­˜
cargo clean
```

#### Windows
```powershell
# æŸ¥çœ‹ Cargo ç¼“å­˜ä½ç½®
cargo --version
```

```powershell
# æ¸…ç† Cargo ç¼“å­˜
cargo clean
```

### é…ç½®ç¼–è¯‘ä¼˜åŒ–

#### macOS/Linux
```bash
# è®¾ç½®å‘å¸ƒæ¨¡å¼ç¼–è¯‘
cargo build --release
```

```bash
# è®¾ç½®å¹¶è¡Œç¼–è¯‘
export RUSTFLAGS="-C target-cpu=native"
```

#### Windows
```powershell
# è®¾ç½®å‘å¸ƒæ¨¡å¼ç¼–è¯‘
cargo build --release
```

```powershell
# è®¾ç½®å¹¶è¡Œç¼–è¯‘
$env:RUSTFLAGS = "-C target-cpu=native"
```

## âœ… éªŒè¯å®‰è£…

å®Œæˆå®‰è£…åï¼ŒéªŒè¯ä»¥ä¸‹å·¥å…·æ˜¯å¦æ­£å¸¸å·¥ä½œï¼š

#### macOS/Linux
```bash
# æ£€æŸ¥ Rust
rustc --version
```

```bash
# æ£€æŸ¥ Cargo
cargo --version
```

```bash
# æ£€æŸ¥ rust-analyzer
rustup component list | grep rust-analyzer
```

```bash
# æ£€æŸ¥ clippy
rustup component list | grep clippy
```

```bash
# æ£€æŸ¥ rustfmt
rustup component list | grep rustfmt
```

#### Windows
```powershell
# æ£€æŸ¥ Rust
rustc --version
```

```powershell
# æ£€æŸ¥ Cargo
cargo --version
```

```powershell
# æ£€æŸ¥ rust-analyzer
rustup component list | Select-String rust-analyzer
```

```powershell
# æ£€æŸ¥ clippy
rustup component list | Select-String clippy
```

```powershell
# æ£€æŸ¥ rustfmt
rustup component list | Select-String rustfmt
```

## ğŸ‰ ä¸‹ä¸€æ­¥

Rust ç¯å¢ƒé…ç½®å®Œæˆåï¼Œç»§ç»­é…ç½®å…¶ä»–ç¼–ç¨‹è¯­è¨€ç¯å¢ƒï¼š

- [Node.js ç¯å¢ƒé…ç½®](./nodejs-environment.md)
- [Python ç¯å¢ƒé…ç½®](./python-environment.md)
- [Go ç¯å¢ƒé…ç½®](./go-environment.md)
- [Java ç¯å¢ƒé…ç½®](./java-environment.md)

---

**é‡åˆ°é—®é¢˜ï¼Ÿ** æŸ¥çœ‹ [é—®é¢˜è§£å†³](./troubleshooting.md) é¡µé¢ã€‚ 